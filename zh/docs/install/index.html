<!doctype html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/fiora/zh/blog/rss.xml" title="fiora Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/fiora/zh/blog/atom.xml" title="fiora Blog Atom Feed"><title data-react-helmet="true">INSTALL | fiora</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="zh"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="INSTALL | fiora"><meta data-react-helmet="true" name="description" content="How to run fiora"><meta data-react-helmet="true" property="og:description" content="How to run fiora"><meta data-react-helmet="true" property="og:url" content="https://fiora.suisuijiang.com/fiora/zh/docs/install"><link data-react-helmet="true" rel="shortcut icon" href="/fiora/zh/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://fiora.suisuijiang.com/fiora/zh/docs/install"><link rel="stylesheet" href="/fiora/zh/styles.a03cde77.css">
<link rel="preload" href="/fiora/zh/styles.5193abf2.js" as="script">
<link rel="preload" href="/fiora/zh/runtime~main.b3a54dc2.js" as="script">
<link rel="preload" href="/fiora/zh/main.0e57394d.js" as="script">
<link rel="preload" href="/fiora/zh/common.273b96a4.js" as="script">
<link rel="preload" href="/fiora/zh/2.bfeeaa60.js" as="script">
<link rel="preload" href="/fiora/zh/14.678f1a76.js" as="script">
<link rel="preload" href="/fiora/zh/15.3a36b462.js" as="script">
<link rel="preload" href="/fiora/zh/935f2afb.a1a18c48.js" as="script">
<link rel="preload" href="/fiora/zh/17896441.42009f64.js" as="script">
<link rel="preload" href="/fiora/zh/78c243a7.8b982b47.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/fiora/zh/"><img src="/fiora/zh/img/favicon.png" alt="Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/fiora/zh/img/favicon.png" alt="Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">fiora</strong></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/fiora/zh/docs/getting-start">Docs</a><a href="https://github.com/yinxin630/fiora" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/fiora/zh/"><img src="/fiora/zh/img/favicon.png" alt="Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/fiora/zh/img/favicon.png" alt="Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">fiora</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/fiora/zh/docs/getting-start">Docs</a></li><li class="menu__list-item"><a href="https://github.com/yinxin630/fiora" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Docusaurus</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fiora/zh/docs/getting-start">Getting Started</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/fiora/zh/docs/install">INSTALL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fiora/zh/docs/api">API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fiora/zh/docs/changelog">CHANGELOG</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">INSTALL</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-to-run-fiora"></a>How to run fiora<a class="hash-link" href="#how-to-run-fiora" title="Direct link to heading">#</a></h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="environmental-preparation"></a>Environmental Preparation<a class="hash-link" href="#environmental-preparation" title="Direct link to heading">#</a></h2><p>To run Fiora, you need Node.js(recommend v14 LTS version), MongoDB and redis</p><ul><li>Install Node.js<ul><li>Official website <a href="https://nodejs.org/en/download/" target="_blank" rel="noopener noreferrer">https://nodejs.org/en/download/</a></li><li>It is recommended to use nvm to install Node.js<ul><li>Install nvm <a href="https://github.com/nvm-sh/nvm#install--update-script" target="_blank" rel="noopener noreferrer">https://github.com/nvm-sh/nvm#install--update-script</a></li><li>Install Node.js via nvm <a href="https://github.com/nvm-sh/nvm#usage" target="_blank" rel="noopener noreferrer">https://github.com/nvm-sh/nvm#usage</a></li></ul></li></ul></li><li>Install MongoDB<ul><li>Official website <a href="https://docs.mongodb.com/manual/installation/#install-mongodb" target="_blank" rel="noopener noreferrer">https://docs.mongodb.com/manual/installation/#install-mongodb</a></li></ul></li><li>Install redis<ul><li>Official website <a href="https://docs.mongodb.com/manual/installation/#install-mongodb" target="_blank" rel="noopener noreferrer">https://docs.mongodb.com/manual/installation/#install-mongodb</a></li></ul></li></ul><p>Recommended to running on Linux or MacOS systems</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-to-run"></a>How to run<a class="hash-link" href="#how-to-run" title="Direct link to heading">#</a></h2><ol><li>Clone the project <code>git clone https://github.com/yinxin630/fiora.git -b master</code></li><li>Ensure you have install <a href="https://www.npmjs.com/package/yarn" target="_blank" rel="noopener noreferrer">yarn</a> before, if not please run <code>npm install -g yarn</code></li><li>Install project dependencies <code>yarn install</code></li><li>Build client <code>yarn build:client &amp;&amp; yarn move-dist</code></li><li>Start the server <code>yarn start</code></li><li>Open <code>http://[ip]:[port]</code>(such as <code>http://127.0.0.1:9200</code>) in browser</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="run-in-the-background"></a>Run in the background<a class="hash-link" href="#run-in-the-background" title="Direct link to heading">#</a></h3><p>Using <code>yarn start</code> to run the server will stop running after disconnecting the ssh connection, it is recommended to use pm2 to run</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># install pm2</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> -g pm2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># use pm2 to run fiora</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">pm2 start </span><span class="token function" style="color:rgb(130, 170, 255)">yarn</span><span class="token plain"> --name fiora -- start</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># view pm2 apps status</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">pm2 </span><span class="token function" style="color:rgb(130, 170, 255)">ls</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># view pm2 fiora logging</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">pm2 logs fiora</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="run-with-develop-mode"></a>Run With Develop Mode<a class="hash-link" href="#run-with-develop-mode" title="Direct link to heading">#</a></h3><ol><li>Start the server <code>yarn dev:server</code></li><li>Start the client <code>yarn dev:client</code></li><li>Open <code>http://localhost:8080</code> in browser</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="running-on-the-docker"></a>Running on the docker<a class="hash-link" href="#running-on-the-docker" title="Direct link to heading">#</a></h3><p>First install docker <a href="https://docs.docker.com/install/" target="_blank" rel="noopener noreferrer">https://docs.docker.com/install/</a></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="run-directly-from-the-dockerhub-image"></a>Run directly from the DockerHub image<a class="hash-link" href="#run-directly-from-the-dockerhub-image" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Pull mongo</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker pull mongo</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Pull redis</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker pull redis</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Pull fiora</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker pull suisuijiang/fiora</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Create a virtual network</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker network create fiora-network</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Run mongodB</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker run --name fioradb -p </span><span class="token number" style="color:rgb(247, 140, 108)">27017</span><span class="token plain">:27017 --network fiora-network mongo</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Run redis</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker run --name fioraredis -p </span><span class="token number" style="color:rgb(247, 140, 108)">6379</span><span class="token plain">:6379 --network fiora-network redis</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Run fiora</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker run --name fiora -p </span><span class="token number" style="color:rgb(247, 140, 108)">9200</span><span class="token plain">:9200 --network fiora-network -e </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">Database</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">mongodb://fioradb:27017/fiora -e </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">RedisHost</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">fioraredis suisuijiang/fiora</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="local-build-image-and-run"></a>Local build image and run<a class="hash-link" href="#local-build-image-and-run" title="Direct link to heading">#</a></h4><ol><li>Clone the project to the local <code>git clone https://github.com/yinxin630/fiora.git -b master</code></li><li>Build the image <code>docker-compose build --no-cache --force-rm</code></li><li>Run it <code>docker-compose up</code></li></ol><a id="project-configuration" style="color:unset;text-decoration:none"><h2>Project Configuration</h2></a>Configuration list - Server configuration `config/server.ts` - Client configuration `config/client.ts`<p>Create a <code>.env</code> file in the fiora root directory and enter <code>key=value</code> key-value pair (one per line) to modify the configuration. For example, modify the port number <code>Port=8888</code></p><p><strong>Server Config</strong></p><table><thead><tr><th>Key</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>Host</td><td>string</td><td>your ip</td><td>backend server host</td></tr><tr><td>Port</td><td>number</td><td>9200</td><td>backend server port</td></tr><tr><td>Database</td><td>string</td><td>mongodb://localhost:27017/fiora</td><td>mongodbb address</td></tr><tr><td>JwtSecret</td><td>string</td><td>jwtSecret (Modify it to ensure safety)</td><td>jwt token encryption secret</td></tr><tr><td>MaxGroupCount</td><td>number</td><td>3</td><td>Maximum number of groups created per user</td></tr><tr><td>QiniuAccessKey</td><td>string</td><td>&#x27;&#x27;</td><td>access key of qiniu CDN. If it is empty, The uploaded file will be stored on the server</td></tr><tr><td>QiniuSecretKey</td><td>string</td><td>&#x27;&#x27;</td><td>secret key of qiniu CDN</td></tr><tr><td>QiniuBucket</td><td>string</td><td>&#x27;&#x27;</td><td>bucket name of qiniu CDN</td></tr><tr><td>QiniuUrlPrefix</td><td>string</td><td>&#x27;&#x27;</td><td>bucket url prefix of qiniu CDN. End with /, for example <a href="https://cdn.suisuijiang.com/" target="_blank" rel="noopener noreferrer">https://cdn.suisuijiang.com/</a></td></tr><tr><td>AllowOrigin</td><td>string</td><td>null</td><td>The list of allowed client origins. If null, all origins are allowed. Multiple values separated by comma</td></tr><tr><td>tokenExpiresTime</td><td>number</td><td>2592000000 (30days)</td><td>login token expires time</td></tr><tr><td>Administrator</td><td>string</td><td>&#x27;&#x27;</td><td>Administrator userId list. Multiple values separated by comma</td></tr><tr><td>DefaultGroupName</td><td>string</td><td>fiora</td><td>Default group name</td></tr><tr><td>DisableRegister</td><td>boolean</td><td>false</td><td>Disable register</td></tr><tr><td>DisableCreateGroup</td><td>boolean</td><td>false</td><td>Disable create group</td></tr></tbody></table><p><strong>Client Config</strong></p><table><thead><tr><th>Key</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>Server</td><td>string</td><td>/</td><td>Server address of the client connection</td></tr><tr><td>MaxImageSize</td><td>number</td><td>3145728 (3MB)</td><td>The maximum image size that the client can upload</td></tr><tr><td>MaxBackgroundImageSize</td><td>number</td><td>5242880 (5MB)</td><td>The maximum background image size that the client can upload</td></tr><tr><td>MaxAvatarSize</td><td>number</td><td>1572864 (1.5MB)</td><td>The maximum avatar image size that the client can upload</td></tr><tr><td>MaxFileSize</td><td>number</td><td>10485760 (10MB)</td><td>The maximum file size that the client can upload</td></tr><tr><td>DefaultTheme</td><td>string</td><td>cool</td><td>default theme</td></tr><tr><td>Sound</td><td>string</td><td>default</td><td>default notification sound</td></tr><tr><td>TagColorMode</td><td>string</td><td>fixedColor</td><td>default tag color mode</td></tr><tr><td>FrontendMonitorAppId</td><td>string</td><td>fixedColor</td><td>appId of monitor <a href="https://yueying.effirst.com/index" target="_blank" rel="noopener noreferrer">https://yueying.effirst.com/index</a></td></tr><tr><td>DisableDeleteMessage</td><td>boolean</td><td>false</td><td>disable user delete messages</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="faq"></a>FAQ<a class="hash-link" href="#faq" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-to-set-up-an-administrator"></a>How to set up an administrator<a class="hash-link" href="#how-to-set-up-an-administrator" title="Direct link to heading">#</a></h3><ol><li>Run <code>yarn script getUserId [username]</code> to get userId</li><li>Set <code>Administrator</code> in config to be administrator userId.</li><li>Restart the server</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="modify-the-default-group-name"></a>Modify the default group name<a class="hash-link" href="#modify-the-default-group-name" title="Direct link to heading">#</a></h3><ol><li>Set <code>DefaultGroupName</code> in config to be new group name</li><li>Restart the server</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="custom-domain-name-reverse-proxy-via-nginx"></a>Custom domain name, reverse proxy via nginx<a class="hash-link" href="#custom-domain-name-reverse-proxy-via-nginx" title="Direct link to heading">#</a></h3><p><strong>Please modify the configuration of the comment item</strong></p><p>Example config</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">server {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   listen 80;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   # Change to your domain name</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   server_name fiora.suisuijiang.com;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   location / {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      proxy_set_header   X-Real-IP        $remote_addr;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      proxy_set_header   Host             $http_host;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      proxy_set_header   Upgrade          $http_upgrade;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      proxy_set_header   X-NginX-Proxy    true;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      proxy_set_header   Connection &quot;upgrade&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      proxy_http_version 1.1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      proxy_pass         http://localhost:9200;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>HTTPS + HTTP 2.0 config</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">server {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   listen 80;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   # Change to your domain name</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   server_name fiora.suisuijiang.com;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   return 301 https://fiora.suisuijiang.com$request_uri;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">server {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   listen 443 ssl http2;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   # Change to your domain name</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   server_name  fiora.suisuijiang.com;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   ssl on;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   # Modify to your ssl certificate location</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   ssl_certificate ./ssl/fiora.suisuijiang.com.crt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   ssl_certificate_key ./ssl/fiora.suisuijiang.com.key;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   ssl_session_timeout 5m;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   ssl_prefer_server_ciphers on;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   location / {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      proxy_set_header   X-Real-IP        $remote_addr;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      proxy_set_header   Host             $http_host;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      proxy_set_header   Upgrade          $http_upgrade;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      proxy_set_header   X-NginX-Proxy    true;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      proxy_set_header   Connection &quot;upgrade&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      proxy_http_version 1.1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      proxy_pass         http://localhost:9200;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="disable-register-manual-account-assignment"></a>Disable register, manual account assignment<a class="hash-link" href="#disable-register-manual-account-assignment" title="Direct link to heading">#</a></h3><p>Set <code>DisableRegister</code> in config to be true. Restart the server to take effect</p><p>Run <code>yarn script register [username] [password]</code> register new account</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="delete-user"></a>Delete user<a class="hash-link" href="#delete-user" title="Direct link to heading">#</a></h3><p>Run <code>yarn script deleteUser [userId]</code></p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/yinxin630/fiora/edit/master/docs-website/docs/INSTALL.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/fiora/zh/docs/getting-start"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Getting Started</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/fiora/zh/docs/api"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">API »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#environmental-preparation" class="table-of-contents__link">Environmental Preparation</a></li><li><a href="#how-to-run" class="table-of-contents__link">How to run</a><ul><li><a href="#run-in-the-background" class="table-of-contents__link">Run in the background</a></li><li><a href="#run-with-develop-mode" class="table-of-contents__link">Run With Develop Mode</a></li><li><a href="#running-on-the-docker" class="table-of-contents__link">Running on the docker</a></li></ul></li><li><a href="#faq" class="table-of-contents__link">FAQ</a><ul><li><a href="#how-to-set-up-an-administrator" class="table-of-contents__link">How to set up an administrator</a></li><li><a href="#modify-the-default-group-name" class="table-of-contents__link">Modify the default group name</a></li><li><a href="#custom-domain-name-reverse-proxy-via-nginx" class="table-of-contents__link">Custom domain name, reverse proxy via nginx</a></li><li><a href="#disable-register-manual-account-assignment" class="table-of-contents__link">Disable register, manual account assignment</a></li><li><a href="#delete-user" class="table-of-contents__link">Delete user</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/fiora/zh/">Overview</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://fiora.suisuijiang.com/invite/group/5adacdcfa109ce59da3e83d3" target="_blank" rel="noopener noreferrer" class="footer__link-item">Feedback</a></li><li class="footer__item"><a href="https://github.com/yinxin630/fiora/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Issues</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://suisuijiang.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Author</a></li><li class="footer__item"><a href="https://github.com/yinxin630/fiora" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2015 - 2021 developed by 碎碎酱</div></div></div></footer></div>
<script src="/fiora/zh/styles.5193abf2.js"></script>
<script src="/fiora/zh/runtime~main.b3a54dc2.js"></script>
<script src="/fiora/zh/main.0e57394d.js"></script>
<script src="/fiora/zh/common.273b96a4.js"></script>
<script src="/fiora/zh/2.bfeeaa60.js"></script>
<script src="/fiora/zh/14.678f1a76.js"></script>
<script src="/fiora/zh/15.3a36b462.js"></script>
<script src="/fiora/zh/935f2afb.a1a18c48.js"></script>
<script src="/fiora/zh/17896441.42009f64.js"></script>
<script src="/fiora/zh/78c243a7.8b982b47.js"></script>
</body>
</html>